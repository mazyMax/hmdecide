class HomeController < ApplicationController
  def index
    puts "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"
    puts params
    if params[:search] != nil
      looker_id = -1
      if current_user != nil
        looker_id = current_user.id
      end

      @posts = Post.where(["description LIKE ?","%#{params[:search]}%"]).order(created_at: :desc)
      puts "????????????????????????????????????????????????????????????????"
      puts params
      @posts = Post.visibility_filter(@posts, looker_id)
    else
      #recommend!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
      
      puts "????????????????????????????????????????????????????????????????"
      looker_id = -1
      if current_user != nil
        looker_id = current_user.id
      end
      puts params
      @posts = Post.all
      @posts = Post.visibility_filter(@posts, looker_id)
    end
    
    
  end

    
  def about
  end
end
